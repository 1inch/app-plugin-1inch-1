import 'core-js/stable';
import 'regenerator-runtime/runtime';
import { waitForAppScreen, zemu } from './test.fixture';

test('Unoswap native token swap', zemu(async (sim, eth) => {
    // Native token to something (1.5 ETH to O3)
    // https://etherscan.io/tx/0xe2d17051ba2133a4dd7b89f3cc8f8ee5512e6b72e57e89e39a23565788f42a3c
    const tx = eth.signTransaction(
        "44'/60'/0'/0/0",
        'f90114820de785138eca4800830481d39411111112542d85b3ef69ae05771c2dccff4faa268814d1120d7b160000b8e42e95b6c8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014d1120d7b1600000000000000000000000000000000000000000000000000235f6a71a6c58aa4b60000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000200000000000000003b6d034074c99f3f5331676f6aec2756e1f39b4fc029a83e00000000000000003b6d03404b8852e4747b8a7d4caf0440e4e3397032a6723d018080',
    );
    await waitForAppScreen(sim);
    await sim.navigateAndCompareSnapshots('.', 'unoswap_native', [4, 0]);

    await tx;
}));
