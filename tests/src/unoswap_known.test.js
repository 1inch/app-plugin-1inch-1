import 'core-js/stable';
import 'regenerator-runtime/runtime';
import { waitForAppScreen, zemu } from './test.fixture';

test('Unoswap know token swap', zemu(async (sim, eth) => {
    // Known ERC20 to known ERC20 (726.7 BOND to 25392 USDC)
    // https://etherscan.io/tx/0x30517d1dab4b5a24bf8298b3a6111743e6801ace0baf915f08db93b828395998
    const tx = eth.signTransaction(
        "44'/60'/0'/0/0",
        'f8ec82035885098bca5a00830257129411111112542d85b3ef69ae05771c2dccff4faa2680b8c42e95b6c80000000000000000000000000391d2021f89dc339f60fff84546ea23e337750f000000000000000000000000000000000000000000000027657afc260bde280000000000000000000000000000000000000000000000000000000005e1eeb6f70000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000003b6d03406591c4bcd6d7a1eb4e537da8b78676c1576ba244018080',
    );
    await waitForAppScreen(sim);
    await sim.navigateAndCompareSnapshots('.', 'unoswap_known', [4, 0]);

    await tx;
}));
